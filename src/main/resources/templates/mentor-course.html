<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
          href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
          rel="stylesheet"
  />
  <link rel="stylesheet" th:href="@{/assets/css/mentor_course.css}" />
  <title>Mentor detail</title>
</head>
<body>
<header class="section__container header__container" id="home">
  <div class="header__image">
    <img th:src="@{/mentors/{id}/avatar(id=${mentor.get().id})}" th:alt="${mentor.get().fullName}" />
  </div>
  <div class="header__content">
    <div>
      <h1 th:text="${mentor.get().fullName}"></h1>
    </div>
    <div class="header__content">
      <p class="section__description" th:text="${cv.get().summary}">
      </p>
      <ul class="section__description">
        Expertise:
        <li style="margin-left: 2em" th:each="subject : ${subjects}" th:text="${subject.title}"></li>
      </ul>
    </div>

  </div>
</header>

<section class="section__container about__container" id="about">
  <div class="about__image">
    <img th:src="@{/assets/bg.png}" alt="bg" class="about__bg-1" />
    <img th:src="@{/assets/bg.png}" alt="bg" class="about__bg-2" />
    <img th:src="@{/assets/about.jpg}" alt="about" class="about__img" />
  </div>
  <div class="about__content">
    <h2 class="section__header">Bit About Mentor</h2>
    <p th:text="${cv.get().education}"></p>
    <u>
      <li th:each="cert : ${cv.get().experienceItems}"></li>
    </u>
    <p class="section__description" th:text="${cv.get().certifications}">
      <u>
        <li th:each="cert : ${cv.get().experienceItems}"></li>
      </u>

    </p>
  </div>
</section>

<section class="section__container service__container" id="service">
  <h2 class="section__header">Courses</h2>
  <div class="service__grid">
    <div class="service__card" th:each="cm : ${courses}">
      <a th:href="@{'/courses/' + ${cm.id}}">
        <span><i class="ri-window-fill"></i></span>
        <h4 th:text="${cm.course.name}">Course Name</h4>
        <p th:text="${cm.course.description}">
          Course description
        </p>
      </a>
    </div>
  </div>
</section>

<section class="section__container review__container" id="reviews">
  <h2 class="section__header">Mentee Reviews</h2>
  <div class="review__grid">
    <div style="text-align: center" th:if="${feedbacks == null or #lists.isEmpty(feedbacks)}">
      <p>No reviews yet.</p>
    </div>
    <div class="review__card course-card" th:each="feedback : ${feedbacks}" th:if="${feedbacks != null and !#lists.isEmpty(feedbacks)}">
      <div class="review-card-header">
        <div class="review-avatar">
          <img th:src="@{'/mentees/' + ${feedback.mentee.id} + '/avatar'}"
               th:alt="${feedback.mentee.fullName}"
               class="mentee-avatar"/>
        </div>
        <div class="review-info-main">
          <div class="mentee-course-row">
            <span class="mentee-name" th:text="${feedback.mentee.fullName}">Mentee Name</span>
            <div style="display: flex; gap: 0.5rem">
              <span class="review-date" style="margin-left: 0.3rem">for</span>
              <span class="review-course-name" th:text="${feedback.courseMentor.course.name}">Course Name</span>
            </div>
          </div>
          <!----->
          <div th:with="
      rating=${feedback.rating != null ? feedback.rating : 0},
      fullStars=${T(java.lang.Math).floor(rating)},
      hasHalfStar=${(rating - fullStars) >= 0.5},
      emptyStars=${5 - fullStars - (hasHalfStar ? 1 : 0)}">
            <div class="review-rating-stars">
                <span th:if="${fullStars > 0}">
                  <span th:each="star : ${#numbers.sequence(1, fullStars)}">
                    <i class="ri-star-fill"></i>
                  </span>
                </span>
                <span th:if="${hasHalfStar}">
                  <i class="ri-star-half-fill"></i>
                </span>
              <span th:if="${emptyStars > 0}">
                <span th:each="star : ${#numbers.sequence(0, emptyStars - 1)}">
                  <i class="ri-star-line"></i>
                </span>
              </span>
            </div>
          </div>
        </div>
        <div class="review-date">
          <span th:text="${#temporals.format(feedback.createdDate, 'dd/MM/yyyy')}">Date</span>
          <i class="ri-star-half-fill" style="font-size: 2rem; color: orange;"></i>
        </div>
      </div>
      <div class="review-card-content" th:text="${feedback.content}">
        Review content...
      </div>
    </div>
  </div>
</section>


<script src="https://unpkg.com/scrollreveal"></script>
<script th:src="@{/main.js}"></script>
</body>
</html>
